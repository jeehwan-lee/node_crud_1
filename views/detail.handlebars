<main class="container mx-auto my-4">

  <section class="bg-white shadow-md rounded py-8 px-10">
    <!-- 게시글 정보 -->
    {{#with postDesc}}
      <div class="mb-8">
        <h3 class="text-3xl font-semibold">{{title}}</h3>
        <p class="text-gray-600 text-sm mt-2">{{writer}}
          |
          {{fullDateString createdDt}}</p>
      </div>
      <div class="mb-8">
        <p class="text-gray-700 text-lg leading-relaxed">
          {{content}}</p>
      </div>
      <div class="flex items-center justify-between text-slate-500 mt-4 mb-4">
        <div class="flex space-x-4 md:space-x-4">
          <div
            class="flex items-center transition hover:text-slate-600"
            onclick="updateHearts({{id}});"
          >
            <i class="fas fa-heart text-red-500 mr-2 cursor-pointer"></i>
            <span>{{hearts}}</span>
          </div>
          <div class="flex items-center transition hover:text-slate-600">
            <i class="fas fa-comments text-blue-500 mr-2"></i>
            <span>{{reflyCount}}</span>
          </div>
          <div class="flexitems-center transition hover:text-slate-600">
            <i class="fas fa-eye mr-1"></i>
            <span>{{hits}}</span>
          </div>
        </div>
      </div>
    {{/with}}
    <!-- 댓글 목록 -->
    <div>
      {{#if allRefly}}
        <h5 class="text-xl font-semibold">댓글
          <span class="text-gray-500">[{{postDesc.reflyCount}}]</span>
        </h5>
      {{/if}}
      <div class="border-b-2 border-gray-500 mt-2 mb-2"></div>
      <ul>
        {{#each allRefly}}
          <li class="mb-4">
            <div class="flex flex-col">
              <div class="flex justify-between">
                <h4 class="text-gray-700 font-semibold">{{writer}}</h4>
                <p class="text-gray-600 text-sm">
                  {{fullDateString createdDt}}
                </p>
              </div>
              <div>
                <p class="text-gray-700 mt-2 leading-relaxed">{{comment}}</p>
              </div>
            </div>
            <div class="border-b-2 mt-2"></div>
          </li>
        {{/each}}
        <!-- 더 많은 댓글을 여기에 추가할 수 있습니다. -->
      </ul>
    </div>
    <!-- 댓글 작성 폼 -->
    <div class="mt-4">
      <h5 class="text-xl font-semibold mb-4">댓글 작성</h5>
      <form method="post" action="/refly/write">
        <div class="flex justify-between">
          <div class="w-1/2 flex justify-center">
            <input type="hidden" name="postId" value={{postDesc.id}} />
            <input
              class="appearance-none block w-full border border-gray-300 rounded-md py-3 px-4 mb-3 mr-2 leading-tight focus:outline-none"
              id="grid-name"
              type="text"
              name="writer"
              placeholder="작성자"
            />
            <input
              class="appearance-none block w-full border border-gray-300 rounded-md py-3 px-4 mb-3 leading-tight focus:outline-none"
              id="grid-password"
              type="password"
              name="password"
              placeholder="비밀번호"
            />
          </div>
          <div>
            <button
              type="submit"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
            >댓글 작성</button>
          </div>
        </div>

        <div class="mb-4">
          <textarea
            id="comment"
            name="comment"
            rows="4"
            class="form-input resize-none w-full border border-gray-300 rounded-md py-3 px-4 leading-tight focus:outline-none"
            placeholder="댓글을 입력해주세요"
          ></textarea>
        </div>
      </form>
    </div>
    <div class="border-b-2 border-gray-500 mt-2 mb-2"></div>
    <div class="flex justify-end mt-4">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mr-2 rounded"
        onclick="location.href='/post/'"
      >목록
      </button>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mr-2 rounded"
      >수정
      </button>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
      >삭제
      </button>
    </div>
  </section>
</main>